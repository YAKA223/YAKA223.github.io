import{u as N,e as $}from"./vuex.esm-bundler-3cb7d60a.js";import{a as M}from"./home-86f0f061.js";import{G as P}from"./goods-item-9255c7ed.js";import{f as E}from"./index-8929c8ab.js";import{_ as F,m as G,l as T,w as k,e as D,S as R,r as c,o,a as d,b as e,u as n,c as B,h as _,U as l,V as I,t as p,k as X,F as m,g as h,p as U,i as j}from"./plugin-vue_export-helper-9e9db05b.js";const C=i=>(U("data-v-1127fded"),i=i(),j(),i),q={class:"top-category"},z={class:"container"},A={class:"sub-list"},H=C(()=>e("h3",null,"全部分类",-1)),J=["src"],K={class:"head"},O=C(()=>e("p",{class:"tag"},"温暖柔软，品质之选",-1)),Q={class:"body"},W={__name:"index",setup(i){const f=G([]),S=N(),a=$(),r=T(()=>S.state.category.list.find(s=>s.id==a.params.id));k(r,()=>{},{immediate:!0}),k(()=>a.params.id,s=>{s&&a.fullPath.split("/").findIndex(u=>u=="sub")==-1&&a.fullPath.split("/").findIndex(u=>u=="category")&&y()});const x=D({}),y=()=>{E(a.params.id).then(s=>{x.value=s.result.children})};return R(async()=>{(await M()).result.forEach(s=>f.push(s)),y()}),(s,u)=>{const g=c("XtxBreadItem"),w=c("XtxBread"),L=c("XtxCarousel"),V=c("router-link"),b=c("XtxMore");return o(),d("div",q,[e("div",z,[n(r)?(o(),B(w,{key:0},{default:_(()=>[l(g,{to:"/"},{default:_(()=>[I("首页")]),_:1}),l(g,null,{default:_(()=>[I(p(n(r).name),1)]),_:1})]),_:1})):X("",!0),l(L,{sliders:f,style:{height:"500px"},autoPlay:""},null,8,["sliders"]),e("div",A,[H,e("ul",null,[n(r)&&n(r).children?(o(!0),d(m,{key:0},h(n(r).children,t=>(o(),d("li",{key:t.id},[l(V,{to:`${n(a).params.id}/sub/${t.id}`},{default:_(()=>[e("img",{src:t.picture},null,8,J),e("p",null,p(t.name),1)]),_:2},1032,["to"])]))),128)):X("",!0)])]),(o(!0),d(m,null,h(x.value,t=>(o(),d("div",{class:"ref-goods",key:t.id},[e("div",K,[e("h3",null,"- "+p(t.name)+" -",1),O,l(b,{path:`${n(a).params.id}/sub/${t.id}`},null,8,["path"])]),e("div",Q,[(o(!0),d(m,null,h(t.goods,v=>(o(),B(P,{key:v.id,goodsList:v},null,8,["goodsList"]))),128))])]))),128))])])}}},oe=F(W,[["__scopeId","data-v-1127fded"]]);export{oe as default};
